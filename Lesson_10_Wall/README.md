# Журналы
## Работа с журналами
1. <b>Цель:</b>
    * уметь работать с журналами и контрольными точками
    * уметь настраивать параметры журналов

1. <b>Описание/Пошаговая инструкция выполнения домашнего задания:</b></br>
    * Настройте выполнение контрольной точки раз в 30 секунд.
    * 10 минут c помощью утилиты pgbench подавайте нагрузку.
    * Измерьте, какой объем журнальных файлов был сгенерирован за это время. Оцените, какой объем приходится в среднем на одну контрольную точку.
      > ![1](https://github.com/prowokatorkraft/Otus_PostgreSQL/blob/main/Lesson_10_Wall/2023-05-16_22h54_55.png)</br>
    * Проверьте данные статистики: все ли контрольные точки выполнялись точно по расписанию. </br>
      <b>Почему так произошло?</b>
      > В среднем выполнялись меньше и могу предположить из за того что привышался max_wal_size = 1гб.</br>
      > ![2](https://github.com/prowokatorkraft/Otus_PostgreSQL/blob/main/Lesson_10_Wall/2023-05-16_23h34_18.png)</br>
      > ![3](https://github.com/prowokatorkraft/Otus_PostgreSQL/blob/main/Lesson_10_Wall/2023-05-16_23h42_25.png)</br>
    * Сравните tps в синхронном/асинхронном режиме утилитой pgbench. </br>
      <b>Объясните полученный результат.</b>
      > в асинхронном режиме как оказалось кластер отработал в 4,5 раза быстрее.</br>
      > ![3](https://github.com/prowokatorkraft/Otus_PostgreSQL/blob/main/Lesson_10_Wall/2023-05-16_22h43_02.png)</br>
    * Создайте новый кластер с включенной контрольной суммой страниц. Создайте таблицу. Вставьте несколько значений. Выключите кластер. Измените пару байт в таблице. Включите кластер и сделайте выборку из таблицы. </br>
      <b>Что и почему произошло? как проигнорировать ошибку и продолжить работу?</b>
      > Не сошлась контрольная сумма с файлом после повреждения его целостности. Вероятно установить параметр ignore_checksum_failure = on</br>
      > ![3](https://github.com/prowokatorkraft/Otus_PostgreSQL/blob/main/Lesson_10_Wall/2023-05-17_23h21_01.png)